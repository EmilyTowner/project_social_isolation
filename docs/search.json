[
  {
    "objectID": "papers/threat_learning/analysis/analysis.html",
    "href": "papers/threat_learning/analysis/analysis.html",
    "title": "Increased Threat Learning After Social Isolation in Human Adolescents",
    "section": "",
    "text": "# load libraries\nlibrary(tidyverse)\nlibrary(lme4)\nlibrary(lmerTest)\nlibrary(emmeans)\nlibrary(kableExtra)\nlibrary(papaja)\nlibrary(haven)\nlibrary(expss)\nlibrary(psych)\nlibrary(rcompanion)\nlibrary(apa)\nlibrary(lm.beta)\nlibrary(ggsignif)\nlibrary(effectsize)\n\n\n\n\n\nsignificant &lt;- function(p_num, p_char) {ifelse(p_num &lt; 0.005, paste0('\\\\textbf{', p_char, '}'), p_char)}\n\n\n\n\n\n# read in data (including state variable responses from hour 3 in isolation)\ndata &lt;- read.csv('../data/data.csv')\n# exclude participants who did not complete all sessions\ndata &lt;- data %&gt;% filter(participant != 'ISO042', participant != 'ISO030')\n\n# recode variables\ndata$cue &lt;- ifelse((data$response == 'arousal' | data$response == 'valence') & data$cue == 'csplus', 'csplusnosound', as.character(data$cue)) \ndata$cue &lt;- ifelse((data$response== 'arousal' | data$response == 'valence') & data$cue == 'us', 'csplus', as.character(data$cue))\n\n# add a cue_dodge variable for plotting\ndata &lt;- transform(data, cue_dodge = as.numeric(cue), value_jitter = jitter(value, amount = .1))\n\n# create tidy variable names for plotting\ndata$session_tidy &lt;- ifelse(data$session == \"baseline\", \"Baseline\", ifelse(data$session == \"isototal\", \"ISO Total\", ifelse(data$session == \"isomedia\", \"ISO Media\", NA)))\ndata$phase_tidy &lt;- ifelse(data$phase == \"acquisition\", \"Acquisition\", ifelse(data$phase == \"extinction\", \"Extinction\", ifelse(data$phase == \"retention\", \"Retention\", ifelse(data$phase == 'preacquisition', \"Pre-acquisition\", NA))))\ndata$phase_tidy &lt;- factor(data$phase_tidy, levels = c(\"Pre-acquisition\", \"Acquisition\", \"Extinction\", \"Retention\"))\ndata$cue_tidy &lt;- ifelse(data$cue == \"csplusnosound\", \"Threat\", ifelse(data$cue == \"csminus\", \"Safety\", ifelse(data$cue == \"csplus\", \"Screech\", NA)))\ndata$response_tidy &lt;- ifelse(data$response == \"arousal\", \"Arousal\", ifelse(data$response == \"valence\", \"Valence\", NA))\n\n# relevel the factors for plotting in correct order\ndata$phase &lt;- factor(data$phase, levels = c(\"preacquisition\", \"acquisition\", \"extinction\", \"retention\"))\ndata$cue &lt;- as.factor(data$cue)\ndata$cue &lt;- factor(data$cue, levels = c(\"csminus\", \"csplusnosound\", \"csplus\"))\ndata$session &lt;- factor(data$session, levels = c(\"baseline\", \"isomedia\", \"isototal\"))\ndata$cue_tidy &lt;- factor(data$cue_tidy, levels = c(\"Threat\", \"Safety\", \"Screech\"))\n\n# subset state variable data \ndata_state &lt;- dplyr::select(data, participant, session, loneliness, stai_state, boredom, social_craving, mood_positive, mood_negative)\ndata_state &lt;- unique(data_state)"
  },
  {
    "objectID": "papers/threat_learning/analysis/analysis.html#libraries",
    "href": "papers/threat_learning/analysis/analysis.html#libraries",
    "title": "Increased Threat Learning After Social Isolation in Human Adolescents",
    "section": "",
    "text": "# load libraries\nlibrary(tidyverse)\nlibrary(lme4)\nlibrary(lmerTest)\nlibrary(emmeans)\nlibrary(kableExtra)\nlibrary(papaja)\nlibrary(haven)\nlibrary(expss)\nlibrary(psych)\nlibrary(rcompanion)\nlibrary(apa)\nlibrary(lm.beta)\nlibrary(ggsignif)\nlibrary(effectsize)"
  },
  {
    "objectID": "papers/threat_learning/analysis/analysis.html#functions",
    "href": "papers/threat_learning/analysis/analysis.html#functions",
    "title": "Increased Threat Learning After Social Isolation in Human Adolescents",
    "section": "",
    "text": "significant &lt;- function(p_num, p_char) {ifelse(p_num &lt; 0.005, paste0('\\\\textbf{', p_char, '}'), p_char)}"
  },
  {
    "objectID": "papers/threat_learning/analysis/analysis.html#import-tidy-and-clean-data",
    "href": "papers/threat_learning/analysis/analysis.html#import-tidy-and-clean-data",
    "title": "Increased Threat Learning After Social Isolation in Human Adolescents",
    "section": "",
    "text": "# read in data (including state variable responses from hour 3 in isolation)\ndata &lt;- read.csv('../data/data.csv')\n# exclude participants who did not complete all sessions\ndata &lt;- data %&gt;% filter(participant != 'ISO042', participant != 'ISO030')\n\n# recode variables\ndata$cue &lt;- ifelse((data$response == 'arousal' | data$response == 'valence') & data$cue == 'csplus', 'csplusnosound', as.character(data$cue)) \ndata$cue &lt;- ifelse((data$response== 'arousal' | data$response == 'valence') & data$cue == 'us', 'csplus', as.character(data$cue))\n\n# add a cue_dodge variable for plotting\ndata &lt;- transform(data, cue_dodge = as.numeric(cue), value_jitter = jitter(value, amount = .1))\n\n# create tidy variable names for plotting\ndata$session_tidy &lt;- ifelse(data$session == \"baseline\", \"Baseline\", ifelse(data$session == \"isototal\", \"ISO Total\", ifelse(data$session == \"isomedia\", \"ISO Media\", NA)))\ndata$phase_tidy &lt;- ifelse(data$phase == \"acquisition\", \"Acquisition\", ifelse(data$phase == \"extinction\", \"Extinction\", ifelse(data$phase == \"retention\", \"Retention\", ifelse(data$phase == 'preacquisition', \"Pre-acquisition\", NA))))\ndata$phase_tidy &lt;- factor(data$phase_tidy, levels = c(\"Pre-acquisition\", \"Acquisition\", \"Extinction\", \"Retention\"))\ndata$cue_tidy &lt;- ifelse(data$cue == \"csplusnosound\", \"Threat\", ifelse(data$cue == \"csminus\", \"Safety\", ifelse(data$cue == \"csplus\", \"Screech\", NA)))\ndata$response_tidy &lt;- ifelse(data$response == \"arousal\", \"Arousal\", ifelse(data$response == \"valence\", \"Valence\", NA))\n\n# relevel the factors for plotting in correct order\ndata$phase &lt;- factor(data$phase, levels = c(\"preacquisition\", \"acquisition\", \"extinction\", \"retention\"))\ndata$cue &lt;- as.factor(data$cue)\ndata$cue &lt;- factor(data$cue, levels = c(\"csminus\", \"csplusnosound\", \"csplus\"))\ndata$session &lt;- factor(data$session, levels = c(\"baseline\", \"isomedia\", \"isototal\"))\ndata$cue_tidy &lt;- factor(data$cue_tidy, levels = c(\"Threat\", \"Safety\", \"Screech\"))\n\n# subset state variable data \ndata_state &lt;- dplyr::select(data, participant, session, loneliness, stai_state, boredom, social_craving, mood_positive, mood_negative)\ndata_state &lt;- unique(data_state)"
  },
  {
    "objectID": "papers/threat_learning/analysis/analysis.html#arousal",
    "href": "papers/threat_learning/analysis/analysis.html#arousal",
    "title": "Increased Threat Learning After Social Isolation in Human Adolescents",
    "section": "arousal",
    "text": "arousal\n\nmodel &lt;- data %&gt;% filter(response == 'arousal', cue != 'csplus') %&gt;% lmer(formula = value ~ session*cue*phase + (1 | participant), data = .)\nmodel_standardized &lt;- effectsize::standardize_parameters(model, method = \"refit\")\nmodel_summary &lt;- summary(model)\nmodel_confint &lt;- as.data.frame(confint(model))\n\nComputing profile confidence intervals ...\n\nmodel_confint &lt;- slice(model_confint, -(1:2))\ncolnames(model_confint) &lt;- c('ci_lower', 'ci_upper')\ntable &lt;- model_summary$coefficients\ntable &lt;- as.data.frame(table, row.names = F)\ncolnames(table) &lt;- c('est', 'se', 'df', 't', 'p')\ntable$est_ci_lower &lt;- model_confint$ci_lower\ntable$est_ci_upper &lt;- model_confint$ci_upper\ntable$beta &lt;- model_standardized$Std_Coefficient\ntable$beta_ci_lower &lt;- model_standardized$CI_low\ntable$beta_ci_upper &lt;- model_standardized$CI_high\ntable &lt;- table %&gt;% dplyr::mutate_at(c('est', 'se', 'df','t', 'est_ci_lower', 'est_ci_upper', 'beta', 'beta_ci_lower', 'beta_ci_upper'), ~sprintf('%.2f', .))\ntable &lt;- table %&gt;% dplyr::mutate_at('p', ~sprintf('%.4f', .))\ntable &lt;- as.data.frame(lapply(table,as.numeric))\ntable$Estimate &lt;- paste0(format(table$est),' ', '(', format(table$est_ci_lower), ', ', format(table$est_ci_upper), ')')\ntable$Beta &lt;- paste0(format(table$beta), ' ', '(', format(table$beta_ci_lower),', ', format(table$beta_ci_upper), ')')\ntable &lt;- dplyr::select(table, 'Estimate', 'se', 'Beta', 'df', 't', 'p')\ncolnames(table) &lt;- c('Estimate', 'SE', 'Beta', 'df', 't', 'p')\ntable$p_print &lt;- printp(table$p)\nrownames(table) &lt;- c('Intercept', 'Session (ISO-with-media)', 'Session (ISO-total)', 'Cue (Threat)', 'Phase (Acquisition)', 'Phase (Extinction)', 'Phase (Retention)', 'Session (ISO-with-media) * Cue (Threat)', 'Session (ISO-total) * Cue (Threat)', 'Session (ISO-with-media) * Phase (Acquisition)', 'Session (ISO-total) * Phase (Acquisition)', 'Session (ISO-with-media) * Phase (Extinction)', 'Session (ISO-total) * Phase (Extinction)', 'Session (ISO-with-media) * Phase (Retention)', 'Session (ISO-total) * Phase (Retention)', 'Cue (Threat) * Phase (Acquisition)', 'Cue (Threat) * Phase (Extinction)', 'Cue (Threat) * Phase (Retention)', 'Session (ISO-with-media) * Cue (Threat) * Phase (Acquisition)', 'Session (ISO-total) * Cue (Threat) * Phase (Acquisition)', 'Session (ISO-with-media) * Cue (Threat) * Phase (Extinction)', 'Session (ISO-total) * Cue (Threat) * Phase (Extinction)', 'Session (ISO-with-media) * Cue (Threat) * Phase (Retention)', 'Session (ISO-total) * Cue (Threat) * Phase (Retention)')\ntable$p_print &lt;- significant(table$p, table$p_print)\ntable &lt;- dplyr::select(table, -p)\ntable &lt;- dplyr::rename(table, p = p_print)\n\n# export to latex\n# kable(table, escape = F, booktabs = T, 'latex') %&gt;% kable_styling(latex_options = c(\"scale_down\")) %&gt;% save_kable('table.tex')"
  }
]